package interfaz;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;

import javax.swing.ImageIcon;
import javax.swing.JPanel;

public class ProgressBar extends JPanel {
	private static final long serialVersionUID = 7466187301695688070L;

	float maxValue;
	float actualValue;
	String unit;
	
	public ProgressBar(){
		maxValue = 100;
		actualValue = 100;
		unit = "Porcentaje";
	}
	
	public ProgressBar(int max,int act,String unidad){
		maxValue = max;
		actualValue = act;
		unit = unidad;
	}

	public void paintComponent (Graphics g){
		Dimension tamanio = getSize();
		ImageIcon imagenFondo = new ImageIcon(getClass().getResource("/imagenes/progress-bar.png"));
		g.drawImage(imagenFondo.getImage(),0,0,tamanio.width,tamanio.height, null);
		
		//La cantidad de energia para poder graficarla
		float proporcionRemanente = actualValue/maxValue;
		float proporcionBarraGastada = proporcionRemanente*tamanio.width;
		
		this.setBackground(Color.black);
		g.fillRect(tamanio.width-((int)proporcionBarraGastada),0,((int)proporcionBarraGastada),tamanio.height);
		setOpaque(false);
		super.paintComponent(g);
	}

	public void changeUnit(){
		if(unit.equals("Porcentaje"))
			unit = "Unidades";
		else
			unit = "Porcentaje";
	}
	
	public void updateActualValue(int newVal){
		actualValue = newVal;
		this.repaint();
	}
	
}
